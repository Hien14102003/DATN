<div class="box-inn-sp mt-2">
  <div class="inn-title">
    <h4>Lesson Manage</h4>
  </div>
  <div class="bor">
    <form>
      <div class="row">
        <div class="col-6 form-group mb-3">
          <label>Title</label>
          <input type="text" name="title" class="form-control" placeholder="Enter lesson name"
                 [(ngModel)]="payload.title">
        </div>
        <div class="col-6 form-group mb-3">
          <label>Course</label>
          <ng-select [items]="courses"
                     bindLabel="name"
                     bindValue="courseId"
                     placeholder="Select Course"
                     [(ngModel)]="payload.courseId"
                     name="course"
                     required>

          </ng-select>
        </div>
      </div>
      <div class="row">
        <div class="mb-3 mt-3 mt-xl-0">
          <label class="mb-0">Image</label>
          <div class="file-field input-field">
            <div class="btn admin-upload-btn">
              <span>File</span>
              <input type="file" multiple accept="image/*,application/pdf" name="file"
                     (change)="fileService.handleMultipleFiles($event)">
            </div>
            <div class="file-path-wrapper">
              <input class="file-path validate" type="text" placeholder="Upload course banner image">
            </div>
          </div>
          <div class="preview-container mt-3">
            <h4>Preview</h4>
            <div class="preview-grid">
              @for (file of fileService.files; track file) {
                <div class="preview-item">
                  <button class="remove-btn" (click)="fileService.removeFile(file)">
                    âœ–
                  </button>

                  @if (file.type.startsWith('image/')) {
                    <img [src]="file.url" alt="{{ file.name }}" class="preview-image"/>
                  } @else {
                    <div class="pdf-preview">
                      <i class="fa fa-file-pdf-o"></i>
                      <a [href]="file.file" target="_blank" class="pdf-link" download="{{ file.name }}">
                        {{ file.name }} ({{ file.size }} KB)
                      </a>
                    </div>
                  }
                </div>
              }
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s12">
          <textarea class="materialize-textarea" name="description" [(ngModel)]="payload.description"></textarea>
          <label>Lesson Descriptions:</label>
        </div>
      </div>

      <div class="row">
        <div class="input-field col s12">
          <i class="waves-effect waves-light btn-large waves-input-wrapper"
             style="">
            <input type="submit" class="waves-button-input" value="Submit" (click)="submit()">
          </i>
        </div>
      </div>
    </form>
  </div>
</div>
